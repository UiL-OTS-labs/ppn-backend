{% extends "base/ppn_base.html" %}
{% load vue_tags %}
{% load i18n %}
{% load transformat %}
{% load static %}

{% block html_head %}
    {{ block.super }}
    {% include 'cdh.vue/vueloader.html' %}

    {% load_vue_component 'ExperimentList' request.csp_nonce %}

    <script nonce="{{ request.csp_nonce }}">
        // Needs to be wrapped into an onload to ensure all dependencies are loaded
        window.onload = _ => {
            const i18n = new VueI18n({
                locale: '{{ LANGUAGE_CODE }}',
            });
            new Vue({
                i18n,
                el: "#list",
                components: {
                    // Loaded by the load_vue_component tag, no need to manually load this
                    ExperimentList
                },
                template: "<ExperimentList></ExperimentList>",
            });
        }
    </script>
{% endblock %}

{% block pre-messages-content %}
    <div class="uu-cover h-300">
{#        <img class="uu-cover-image" alt="cover" src="{% static 'main/img.png' %}" />#}
    </div>
    <div class="uu-hero">
        <h1>Experimenten ILS Labs</h1>
    </div>
{% endblock %}

{% block content %}
<div class="uu-container">
    <div class="col-12">
        <h1>{% trans "index:header:welkom_intro" %}</h1>
        <p>{% trans "index:content:intro1" %}</p>
        {% url 'participant:sign_up' as mailinglist_url %}
<div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
    <p style="margin: 0;"><strong>{% transformat 'index:content:maillinglist1' mailinglist_url %}</strong></p>
    <img src="{% static 'main/mail.png' %}" alt="Mailinglijst icoon" style="height: 180px;" />
</div>

        <h2>{% trans "index:header:intro2" %}</h2>
        <p>{% trans "index:content:intro2" %}</p>
        <p>{% trans "index:content:intro3" %}</p>
        <p>{% trans "index:content:intro4" %}</p>
        <p>{% trans "index:content:intro5" %}</p>
        <p class="mb-4">{% trans "index:content:intro6" %}</p>
    </div>
</div>
<div class="uu-container">
    <div class="col-12">
        <h2>{% trans 'index:header:open_experiments' %}</h2>
            <div id="list"></div>
         {% url 'participant:sign_up' as mailinglist_url %}
         <p class="mb-4">{% transformat "index:content:mailinglist2" mailinglist_url %}</p>

    </div>
</div>
{% if request.user.is_anonymous or not request.user.is_participant %}
{% endif %}
{% endblock %}
